<!Doctype html>
<html>
	<body>
		<canvas id="tabuleiro" style="float: right; border:1px solid #000000;" width="800" height="400"></canvas>
		<div>
			<textarea id="entrada" style="height: 400px; width: 300px; display: block;"></textarea>
			<input type="submit" value="Executar"/>
		</div>
	</body>
</html>

<img id="carro" src="carro.png" hidden="true"/>
<img id="carroCaminho" src="carro-caminho.png" hidden="true"/>

<script>
var tabuleiro = document.getElementById("tabuleiro");
var ctx=tabuleiro.getContext("2d");

var tamanhoQuadrado = 40;
var numLargura = tabuleiro.width / tamanhoQuadrado;
var numAltura = tabuleiro.height / tamanhoQuadrado;

for (x = 0; x< numLargura; x++) {
	for (y = 0; y< numAltura; y++) {
		ctx.lineWidth=0.5;
  		ctx.strokeRect(x*tamanhoQuadrado ,y*tamanhoQuadrado,tamanhoQuadrado,tamanhoQuadrado);
		ctx.fill();
	}
}

var bola = function(x,y,cor) {
	ctx.fillStyle = cor;
	ctx.beginPath();
  	ctx.arc(x*tamanhoQuadrado, y*tamanhoQuadrado, 5, 0, Math.PI*2, true);
	ctx.fill();
}

var carro = function(x,y,direcao) {
	ctx.drawImage(document.getElementById("carro"), x*tamanhoQuadrado-10, y*tamanhoQuadrado-10);
}

// ainda nao funciona para a esquerda
var andaHorizontal = function(origemX, origemY, quadrasPraDireita) {
	for (i = 1; i <= quadrasPraDireita; i++) {
		bola(origemX + i, origemY, "#AAA");
	}
}

// ainda nao funciona para cima
var andaVertical = function(origemX, origemY, quadrasPraBaixo) {
	for (i = 1; i <= quadrasPraBaixo; i++) {
		bola(origemX, origemY + i, "#AAA");
	}
}

bola(2, 1, "#3A3");
bola(12, 6, "#F00");
carro(2, 1, "direita");
andaHorizontal(2, 1, 3);
andaVertical(5, 1, 2);
andaHorizontal(5, 3, 7);
andaVertical(12, 3, 3);
carro(12, 6, "baixo");

var entrada = document.getElementById("entrada");
var comandos = entrada.split(";");


</script>
